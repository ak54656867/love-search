<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ì‚¬ë‘ ê´€ê³„ ê²€ìƒ‰</title>

<style>
  body {
    font-family: "Pretendard", Arial, sans-serif;
    background: linear-gradient(135deg, #eef2ff, #fdf2f8);
    display: flex;
    justify-content: center;
    padding-top: 50px;
  }

  .card {
    background: white;
    width: 480px;
    padding: 26px;
    border-radius: 18px;
    box-shadow: 0 20px 40px rgba(0,0,0,.12);
    position: relative;
  }

  h2 { text-align: center; margin-bottom: 6px; }
  .desc { text-align: center; font-size: 14px; color: #666; }

  .search-box { display: flex; gap: 8px; margin-top: 14px; }
  input {
    flex: 1;
    padding: 12px;
    font-size: 15px;
    border-radius: 12px;
    border: 1px solid #ccc;
  }
  button {
    padding: 12px 18px;
    border: none;
    border-radius: 12px;
    background: #6366f1;
    color: white;
    font-weight: bold;
    cursor: pointer;
  }

  ul { list-style: none; padding: 0; margin-top: 18px; }
  li {
    padding: 12px;
    border-radius: 12px;
    margin-bottom: 10px;
    background: #f8fafc;
    cursor: pointer;
  }

  .dating { border-left: 6px solid #ef4444; }
  .broken { border-left: 6px solid #94a3b8; }
  .crush  { border-left: 6px solid #3b82f6; }
  .mutual { border-left: 6px solid #a855f7; }

  .autocomplete {
    position: absolute;
    background: white;
    border: 1px solid #ddd;
    border-radius: 10px;
    width: calc(100% - 52px);
    top: 118px;
    left: 26px;
    z-index: 10;
    max-height: 160px;
    overflow-y: auto;
  }

  .autocomplete div {
    padding: 10px;
    cursor: pointer;
  }

  .autocomplete div:hover {
    background: #eef2ff;
  }

  .rank {
    margin-top: 20px;
    font-size: 14px;
    background: #f1f5f9;
    padding: 12px;
    border-radius: 12px;
  }

  .empty { text-align: center; color: #777; margin-top: 14px; }
</style>
</head>

<body>
<div class="card">
  <h2>ğŸ’˜ ì‚¬ë‘ ê´€ê³„ ê²€ìƒ‰</h2>
  <div class="desc">ì„±ë§Œ ì…ë ¥í•´ë„ ìë™ì™„ì„±ë©ë‹ˆë‹¤</div>

  <div class="search-box">
    <input id="search" placeholder="ì´ë¦„ ì…ë ¥">
    <button onclick="search()">ê²€ìƒ‰</button>
  </div>

  <div id="auto" class="autocomplete" style="display:none"></div>

  <ul id="result"></ul>
  <div id="empty" class="empty"></div>

  <div class="rank" id="rank"></div>
</div>

<script>
const rawText = `
ì¡°ë¯¼ì¤€ |â™¡| ë¬¸íš¨ì§„
ê°•ëª…êµ¬ â™¡ í™©í˜œë¹ˆ
ì–‘ì œí˜„ |â™¡| ì¡°ì—°ì•„
ë¯¼ì •í˜¸ -> ì´ìˆ˜í˜„
ìµœì‹œí›ˆ <-> ìœ ë™ìš°
ìµœì‹œí›ˆ â™¡ ì „ì¤€í˜•
ì•ˆì§„ìš° â™¡ ìµœí•˜ë¦°
ê¹€ë„ì—½ -> ìµœí•˜ë¦°
ì†ì§€í˜¸ |â™¡| ë¯¼íš¨ì£¼
ì´ë¯¿ìŒ |â™¡| ì´ê°€ìœ¨
ë¯¼ì •í˜¸ -> ì¡°ì—°ì•„
ì¡°í•˜ì˜ -> ì´ë¯¿ìŒ
ê¹€ë™ìœ¤ -> ë¥˜ì§€ìš°
ê¹€ë™ìœ¤ -> ì†ì˜ˆì›
ì •ì€ìš° -> ì‹¬ì±„ì›
ë°•ì„±ì œ -> ìµœí•˜ë¦°
ì¥ê±´ìš° -> ì‹ ì•„ë¦°
ë°•ë‹¤ì˜¨ |â™¡| ì •ì—°ì¬
ê¶Œí¬í˜„ |â™¡| ë°•ë‹¤ì˜¨
ê¹€ë™ìœ¤ -> í™©í•˜ë¦¼
ë°©í›ˆí…Œ -> ë¥˜ì§€ìš°
ë¯¼íš¨ì£¼ -> ì „ì¤€í˜•
ë¯¼íš¨ì£¼ -> ì–‘ì œí˜„
ë¯¼íš¨ì£¼ -> ì¥ê±´ìš°
ë¯¼íš¨ì£¼ -> ê¹€ë„ì—½
ì´ì„œìœ¤ -> ì „ì¤€í˜•
ë¥˜ì§€ìš° -> ê¹€ì •í›ˆ
ì´ì„œìœ¤ -> ì •ìœ ì¤€
ë¬¸íš¨ì§„ -> ì „ì¤€í˜•
í—ˆë™í•˜ -> ì†ì˜ˆì›
ê¹€ì¤€ìš° -> ìµœí•˜ë¦°
ê¹€ê°€ì˜ -> ë…¸ë¬´í˜„
í—ˆë™í•˜ -> ì´ìˆ˜í˜„
í—ˆë™í•˜ -> ê¹€ê·œë¦¬
í—ˆë™í•˜ -> ì†ì˜ˆì›
ê¹€ë™ê±´ -> ê¹€ì¬í¬
í—ˆë™í•˜ -> ìµœí•˜ë¦°
ê°•ëª…êµ¬ |â™¡| ë¬¸íš¨ì§„
ë°©í›ˆí…Œ |â™¡| ì„ìœ ë¦¬
ë°•ê²½ë‹´ -> ì¡°ì—°ì•„
ì¡°í•˜ì˜ -> ìœ ??
ê¹€ë„ì› -> ì‹¬ì±„ì›
ì´ì§€ìš° â™¡ ì•ˆì§„ìš°
ì´ë¯¿ìŒ -> ì‹ ì•„ë¦°
ìœ ë™ìš° -> ì¡°í•˜ì˜
ê¹€ë¯¼ì„œ -> ì´ì˜ˆë‚˜
`;

const typeMap = { "â™¡":"dating", "|â™¡|":"broken", "->":"crush", "<->":"mutual" };
const icons = { dating:"â¤ï¸", broken:"ğŸ’”", crush:"ğŸ‘‰", mutual:"ğŸ”" };

const data = rawText.trim().split("\n").map(l=>{
  for (let s in typeMap) {
    if (l.includes(s)) {
      const [from,to]=l.split(s).map(x=>x.trim());
      return {from,to,type:typeMap[s]};
    }
  }
}).filter(Boolean);

// ì´ë¦„ ëª©ë¡
const names = [...new Set(data.flatMap(d=>[d.from,d.to]))];

const input = document.getElementById("search");
const auto = document.getElementById("auto");
const result = document.getElementById("result");
const empty = document.getElementById("empty");
const rankBox = document.getElementById("rank");

// ìë™ì™„ì„±
input.addEventListener("input", ()=>{
  auto.innerHTML="";
  if (!input.value) return auto.style.display="none";

  names.filter(n=>n.includes(input.value)).slice(0,8).forEach(n=>{
    const d=document.createElement("div");
    d.textContent=n;
    d.onclick=()=>{ input.value=n; auto.style.display="none"; search(); };
    auto.appendChild(d);
  });
  auto.style.display="block";
});

input.addEventListener("keydown", e=>{
  if (e.key==="Enter") search();
});

function search(){
  auto.style.display="none";
  result.innerHTML="";
  empty.textContent="";
  const name=input.value.trim();
  if(!name) return;

  const filtered=[...new Map(
    data.filter(d=>d.from.includes(name)||d.to.includes(name))
        .map(d=>[`${d.from}${d.type}${d.to}`,d])
  ).values()];

  if(!filtered.length){ empty.textContent="ê²°ê³¼ ì—†ìŒ ğŸ˜¢"; return; }

  filtered.forEach(d=>{
    const li=document.createElement("li");
    li.className=d.type;
    li.innerHTML=`<b>${d.from}</b> ${icons[d.type]} <b>${d.to}</b>`;
    li.onclick=()=>{ input.value=d.from; search(); };
    result.appendChild(li);
  });

  ranking();
}

// ì¸ê¸° ë­í‚¹
function ranking(){
  const count={};
  data.forEach(d=>{
    count[d.from]=(count[d.from]||0)+1;
    count[d.to]=(count[d.to]||0)+1;
  });
  const top=Object.entries(count).sort((a,b)=>b[1]-a[1]).slice(0,5);
  rankBox.innerHTML="ğŸ”¥ ì¸ê¸° TOP 5<br>"+top.map(
    (v,i)=>`${i+1}. ${v[0]} (${v[1]})`
  ).join("<br>");
}
</script>
</body>
</html>
