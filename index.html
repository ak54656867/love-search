<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>Love Search</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: 'Pretendard', Arial, sans-serif;
  background: linear-gradient(135deg, #ffdde1, #ee9ca7);
  min-height: 100vh;
}

.container {
  max-width: 900px;
  margin: auto;
  padding: 30px;
}

h1 {
  text-align: center;
  color: #fff;
  margin-bottom: 10px;
}

.search-box {
  display: flex;
  justify-content: center;
  margin: 20px 0;
}

input {
  width: 80%;
  padding: 18px;
  font-size: 18px;
  border-radius: 30px;
  border: none;
  outline: none;
}

button {
  margin-left: 10px;
  padding: 18px 25px;
  border-radius: 30px;
  border: none;
  cursor: pointer;
  font-size: 16px;
  background: #ff5f7e;
  color: white;
}

.card {
  background: white;
  border-radius: 20px;
  padding: 20px;
  margin-top: 20px;
}

.legend span {
  display: inline-block;
  margin-right: 15px;
}

.rank li {
  margin: 5px 0;
}

.admin {
  position: fixed;
  top: 15px;
  right: 15px;
  cursor: pointer;
  font-size: 22px;
}

textarea {
  width: 100%;
  height: 120px;
}

small {
  color: #666;
}
</style>
</head>

<body>
<div class="admin" onclick="openAdmin()">âš™</div>

<div class="container">
  <h1>ğŸ’– Love Search</h1>

  <div class="search-box">
    <input id="search" placeholder="ì´ë¦„ ì…ë ¥ (ì—”í„° ê°€ëŠ¥)" list="names">
    <button onclick="search()">ê²€ìƒ‰</button>
  </div>

  <datalist id="names"></datalist>

  <div class="card legend">
    <b>ê¸°í˜¸ ì„¤ëª…</b><br><br>
    <span>-> ì§ì‚¬ë‘</span>
    <span>â™¡ ìŒë°© í˜¸ê°</span>
    <span>|â™¡| ì„œë¡œ ì¢‹ì•„í•¨</span>
    <span><-> ì»¤í”Œ</span>
  </div>

  <div id="result" class="card"></div>

  <div class="card">
    <h3>ğŸ”¥ ì¸ê¸° ìˆœìœ„ (ë°›ì€ í˜¸ê° ê¸°ì¤€)</h3>
    <ol id="rank" class="rank"></ol>
  </div>

  <div class="card">
    <b>ë²„ì „</b> v1.0.0<br>
    <small>
      - ì „ì²´ ê´€ê³„ ë°ì´í„° ë°˜ì˜<br>
      - ìë™ì™„ì„± / ì—”í„° ê²€ìƒ‰<br>
      - ì¸ê¸°ìˆœìœ„ ì‹œìŠ¤í…œ<br>
      - ê´€ë¦¬ì í¸ì§‘ ëª¨ë“œ
    </small>
  </div>
</div>

<script>
const scoreMap = {"->":1,"â™¡":2,"|â™¡|":3,"<->":4};

let relations = [
 {from:"ì¡°ë¯¼ì¤€",to:"ë¬¸íš¨ì§„",type:"|â™¡|"},
 {from:"ê°•ëª…êµ¬",to:"í™©í˜œë¹ˆ",type:"â™¡"},
 {from:"ì–‘ì œí˜„",to:"ì¡°ì—°ì•„",type:"|â™¡|"},
 {from:"ë¯¼ì •í˜¸",to:"ì´ìˆ˜í˜„",type:"->"},
 {from:"ìµœì‹œí›ˆ",to:"ìœ ë™ìš°",type:"<->"},
 {from:"ìµœì‹œí›ˆ",to:"ì „ì¤€í˜•",type:"â™¡"},
 {from:"ì•ˆì§„ìš°",to:"ìµœí•˜ë¦°",type:"â™¡"},
 {from:"ê¹€ë„ì—½",to:"ìµœí•˜ë¦°",type:"->"},
 {from:"ì†ì§€í˜¸",to:"ë¯¼íš¨ì£¼",type:"|â™¡|"},
 {from:"ì´ë¯¿ìŒ",to:"ì´ê°€ìœ¨",type:"|â™¡|"},
 {from:"ë¯¼ì •í˜¸",to:"ì¡°ì—°ì•„",type:"->"},
 {from:"ì¡°í•˜ì˜",to:"ì´ë¯¿ìŒ",type:"->"},
 {from:"ê¹€ë™ìœ¤",to:"ë¥˜ì§€ìš°",type:"->"},
 {from:"ê¹€ë™ìœ¤",to:"ì†ì˜ˆì›",type:"->"},
 {from:"ì •ì€ìš°",to:"ì‹¬ì±„ì›",type:"->"},
 {from:"ë°•ì„±ì œ",to:"ìµœí•˜ë¦°",type:"->"},
 {from:"ì¥ê±´ìš°",to:"ì‹ ì•„ë¦°",type:"->"},
 {from:"ë°•ë‹¤ì˜¨",to:"ì •ì—°ì¬",type:"|â™¡|"},
 {from:"ê¶Œí¬í˜„",to:"ë°•ë‹¤ì˜¨",type:"|â™¡|"},
 {from:"ê¹€ë™ìœ¤",to:"í™©í•˜ë¦¼",type:"->"},
 {from:"ë°©í›ˆí…Œ",to:"ë¥˜ì§€ìš°",type:"->"},
 {from:"ë¯¼íš¨ì£¼",to:"ì „ì¤€í˜•",type:"->"},
 {from:"ë¯¼íš¨ì£¼",to:"ì–‘ì œí˜„",type:"->"},
 {from:"ë¯¼íš¨ì£¼",to:"ì¥ê±´ìš°",type:"->"},
 {from:"ë¯¼íš¨ì£¼",to:"ê¹€ë„ì—½",type:"->"},
 {from:"ì´ì„œìœ¤",to:"ì „ì¤€í˜•",type:"->"},
 {from:"ë¥˜ì§€ìš°",to:"ê¹€ì •í›ˆ",type:"->"},
 {from:"ì´ì„œìœ¤",to:"ì •ìœ ì¤€",type:"->"},
 {from:"ë¬¸íš¨ì§„",to:"ì „ì¤€í˜•",type:"->"},
 {from:"í—ˆë™í•˜",to:"ì†ì˜ˆì›",type:"->"},
 {from:"ê¹€ì¤€ìš°",to:"ìµœí•˜ë¦°",type:"->"},
 {from:"ê¹€ê°€ì˜",to:"ë…¸ë¬´í˜„",type:"->"},
 {from:"í—ˆë™í•˜",to:"ì´ìˆ˜í˜„",type:"->"},
 {from:"í—ˆë™í•˜",to:"ê¹€ê·œë¦¬",type:"->"},
 {from:"ê¹€ë™ê±´",to:"ê¹€ì¬í¬",type:"->"},
 {from:"í—ˆë™í•˜",to:"ìµœí•˜ë¦°",type:"->"},
 {from:"ê°•ëª…êµ¬",to:"ë¬¸íš¨ì§„",type:"|â™¡|"},
 {from:"ë°©í›ˆí…Œ",to:"ì„ìœ ë¦¬",type:"|â™¡|"},
 {from:"ë°•ê²½ë‹´",to:"ì¡°ì—°ì•„",type:"->"},
 {from:"ê¹€ë„ì›",to:"ì‹¬ì±„ì›",type:"->"},
 {from:"ì´ì§€ìš°",to:"ì•ˆì§„ìš°",type:"â™¡"},
 {from:"ì´ë¯¿ìŒ",to:"ì‹ ì•„ë¦°",type:"->"},
 {from:"ìœ ë™ìš°",to:"ì¡°í•˜ì˜",type:"->"},
 {from:"ê¹€ë¯¼ì„œ",to:"ì´ì˜ˆë‚˜",type:"->"}
];

function buildNames() {
 const set = new Set();
 relations.forEach(r=>{set.add(r.from);set.add(r.to);});
 document.getElementById("names").innerHTML =
  [...set].map(n=>`<option value="${n}">`).join("");
}

function search() {
 const name = searchInput.value.trim();
 let html = "";
 const ë°›ì€ = relations.filter(r=>r.to===name);
 const í•œ = relations.filter(r=>r.from===name);

 if(ë°›ì€.length){
  html+="<b>â¤ï¸ ë°›ì€ ê´€ê³„</b><br>";
  ë°›ì€.forEach(r=>html+=`${r.from} ${r.type}<br>`);
 }
 if(í•œ.length){
  html+="<br><b>ğŸ’Œ ë‚´ê°€ ì¢‹ì•„í•œ</b><br>";
  í•œ.forEach(r=>html+=`${r.to} ${r.type}<br>`);
 }
 if(!html) html="ê²°ê³¼ ì—†ìŒ";
 result.innerHTML=html;
}

function rank() {
 const scores = {};
 relations.forEach(r=>{
  scores[r.to]=(scores[r.to]||0)+scoreMap[r.type];
 });
 document.getElementById("rank").innerHTML =
  Object.entries(scores)
   .sort((a,b)=>b[1]-a[1])
   .slice(0,10)
   .map(e=>`<li>${e[0]} (${e[1]})</li>`).join("");
}

function openAdmin(){
 const pw=prompt("ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸");
 if(pw==="admin123"){
  const text=prompt("í˜•ì‹: ì´ë¦„ ê¸°í˜¸ ì´ë¦„ (ì˜ˆ: ê¹€ì² ìˆ˜ -> ì´ì˜í¬)");
  if(!text)return;
  const [a,b,c]=text.split(" ");
  relations.push({from:a,to:c,type:b});
  buildNames();rank();
  alert("ì¶”ê°€ë¨ (ìƒˆë¡œê³ ì¹¨ ì•ˆ í•´ë„ ì ìš©)");
 }
}

const searchInput=document.getElementById("search");
searchInput.addEventListener("keydown",e=>{if(e.key==="Enter")search();});

buildNames();
rank();
</script>
</body>
</html>
