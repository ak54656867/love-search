<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ê´€ê³„ ê²€ìƒ‰ì†Œ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: Pretendard, Arial, sans-serif;
  background: linear-gradient(135deg, #f8fbff, #dbeafe);
  min-height: 100vh;
}

.container {
  max-width: 1000px;
  margin: auto;
  padding: 30px;
}

header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

h1 {
  color: #1e3a8a;
}

.admin-btn {
  cursor: pointer;
  font-size: 22px;
}

.search-box {
  display: flex;
  gap: 10px;
  margin: 30px 0;
}

input {
  flex: 1;
  padding: 18px;
  font-size: 18px;
  border-radius: 14px;
  border: 1px solid #c7d2fe;
}

button {
  padding: 18px 26px;
  border-radius: 14px;
  border: none;
  background: #2563eb;
  color: white;
  cursor: pointer;
}

.grid {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 20px;
}

.card {
  background: white;
  border-radius: 18px;
  padding: 20px;
}

.legend span {
  display: inline-block;
  margin-right: 12px;
}

ol li {
  margin: 6px 0;
}

.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.4);
  display: none;
  justify-content: center;
  align-items: center;
}

.modal-content {
  background: white;
  padding: 25px;
  border-radius: 18px;
  width: 320px;
}

.modal-content input {
  width: 100%;
  margin-bottom: 10px;
}

small {
  color: #555;
}
</style>
</head>

<body>

<div class="modal" id="adminModal">
  <div class="modal-content">
    <h3>ğŸ›  ê´€ë¦¬ì ë¡œê·¸ì¸</h3>
    <input id="adminId" placeholder="ì•„ì´ë””">
    <input id="adminPw" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸">
    <button onclick="adminLogin()">ë¡œê·¸ì¸</button>
  </div>
</div>

<div class="modal" id="editModal">
  <div class="modal-content">
    <h3>â• ê´€ê³„ ì¶”ê°€</h3>
    <input id="from" placeholder="ì´ë¦„">
    <input id="type" placeholder="ê¸°í˜¸ (â†’ â™¡ |â™¡| â†”)">
    <input id="to" placeholder="ëŒ€ìƒ">
    <button onclick="addRelation()">ì¶”ê°€</button>
  </div>
</div>

<div class="container">
<header>
  <h1>ğŸ’™ ê´€ê³„ ê²€ìƒ‰ì†Œ</h1>
  <div class="admin-btn" onclick="openAdmin()">âš™ï¸</div>
</header>

<div class="search-box">
  <input id="search" placeholder="ì´ë¦„ ì…ë ¥ (ìµœì†Œ 1ê¸€ì)">
  <button onclick="search()">ê²€ìƒ‰</button>
</div>

<div class="grid">
  <div>
    <div class="card legend">
      <b>ğŸ“˜ ê¸°í˜¸ ì„¤ëª…</b><br><br>
      <span>â¡ï¸ ì§ì‚¬ë‘</span>
      <span>ğŸ’ ìŒë°© í˜¸ê°</span>
      <span>ğŸ’– ì‚¬ê·€ê±°ë‚˜ ì‚¬ê²¼ë˜ ì‚¬ì´</span>
      <span>ğŸ’ ì»¤í”Œ</span>
    </div>

    <div id="result" class="card">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤</div>
  </div>

  <div>
    <div class="card">
      <h3>ğŸ”¥ ì¸ê¸° ìˆœìœ„ TOP 10</h3>
      <ol id="rank"></ol>
    </div>

    <div class="card">
      <b>ë²„ì „</b> v2.0.0<br><br>
      <small>
        â€¢ UI ì „ë©´ ê°œí¸<br>
        â€¢ ì¸ê¸°ìˆœìœ„ ê³„ì‚° ë¡œì§ ë³€ê²½<br>
        â€¢ ê´€ë¦¬ì í¸ì§‘ ëª¨ë“œ ì¶”ê°€<br>
        â€¢ ìë™ì™„ì„± ìµœì†Œ ì…ë ¥ ì œí•œ
      </small>
    </div>
  </div>
</div>
</div>

<script>
const ADMIN_ID = "ak5465";
const ADMIN_PW = "shangusdnswl@A1";

let relations = [
 {from:"ì¡°ë¯¼ì¤€",to:"ë¬¸íš¨ì§„",type:"ğŸ’–"},
 {from:"ê°•ëª…êµ¬",to:"í™©í˜œë¹ˆ",type:"ğŸ’"},
 {from:"ì–‘ì œí˜„",to:"ì¡°ì—°ì•„",type:"ğŸ’–"},
 {from:"ë¯¼ì •í˜¸",to:"ì´ìˆ˜í˜„",type:"â¡ï¸"},
 {from:"ìµœì‹œí›ˆ",to:"ìœ ë™ìš°",type:"ğŸ’"},
 {from:"ìµœì‹œí›ˆ",to:"ì „ì¤€í˜•",type:"ğŸ’"},
 {from:"ì•ˆì§„ìš°",to:"ìµœí•˜ë¦°",type:"ğŸ’"},
 {from:"ê¹€ë„ì—½",to:"ìµœí•˜ë¦°",type:"â¡ï¸"},
 {from:"ì†ì§€í˜¸",to:"ë¯¼íš¨ì£¼",type:"ğŸ’–"},
 {from:"ì´ë¯¿ìŒ",to:"ì´ê°€ìœ¨",type:"ğŸ’–"},
 {from:"ë¯¼ì •í˜¸",to:"ì¡°ì—°ì•„",type:"â¡ï¸"},
 {from:"ì¡°í•˜ì˜",to:"ì´ë¯¿ìŒ",type:"â¡ï¸"},
 {from:"ê¹€ë™ìœ¤",to:"ë¥˜ì§€ìš°",type:"â¡ï¸"},
 {from:"ê¹€ë™ìœ¤",to:"ì†ì˜ˆì›",type:"â¡ï¸"},
 {from:"ì •ì€ìš°",to:"ì‹¬ì±„ì›",type:"â¡ï¸"},
 {from:"ë°•ì„±ì œ",to:"ìµœí•˜ë¦°",type:"â¡ï¸"},
 {from:"ì¥ê±´ìš°",to:"ì‹ ì•„ë¦°",type:"â¡ï¸"},
 {from:"ë°•ë‹¤ì˜¨",to:"ì •ì—°ì¬",type:"ğŸ’–"},
 {from:"ê¶Œí¬í˜„",to:"ë°•ë‹¤ì˜¨",type:"ğŸ’–"},
 {from:"ê¹€ë™ìœ¤",to:"í™©í•˜ë¦¼",type:"â¡ï¸"},
 {from:"ë°©í›ˆí…Œ",to:"ë¥˜ì§€ìš°",type:"â¡ï¸"},
 {from:"ë¯¼íš¨ì£¼",to:"ì „ì¤€í˜•",type:"â¡ï¸"},
 {from:"ë¯¼íš¨ì£¼",to:"ì–‘ì œí˜„",type:"â¡ï¸"},
 {from:"ë¯¼íš¨ì£¼",to:"ì¥ê±´ìš°",type:"â¡ï¸"},
 {from:"ë¯¼íš¨ì£¼",to:"ê¹€ë„ì—½",type:"â¡ï¸"},
 {from:"ì´ì„œìœ¤",to:"ì „ì¤€í˜•",type:"â¡ï¸"},
 {from:"ë¥˜ì§€ìš°",to:"ê¹€ì •í›ˆ",type:"â¡ï¸"},
 {from:"ì´ì„œìœ¤",to:"ì •ìœ ì¤€",type:"â¡ï¸"},
 {from:"ë¬¸íš¨ì§„",to:"ì „ì¤€í˜•",type:"â¡ï¸"},
 {from:"í—ˆë™í•˜",to:"ì†ì˜ˆì›",type:"â¡ï¸"},
 {from:"ê¹€ì¤€ìš°",to:"ìµœí•˜ë¦°",type:"â¡ï¸"},
 {from:"ê¹€ê°€ì˜",to:"ë…¸ë¬´í˜„",type:"â¡ï¸"},
 {from:"í—ˆë™í•˜",to:"ì´ìˆ˜í˜„",type:"â¡ï¸"},
 {from:"í—ˆë™í•˜",to:"ê¹€ê·œë¦¬",type:"â¡ï¸"},
 {from:"í—ˆë™í•˜",to:"ì†ì˜ˆì›",type:"â¡ï¸"},
 {from:"ê¹€ë™ê±´",to:"ê¹€ì¬í¬",type:"â¡ï¸"},
 {from:"í—ˆë™í•˜",to:"ìµœí•˜ë¦°",type:"â¡ï¸"},
 {from:"ê°•ëª…êµ¬",to:"ë¬¸íš¨ì§„",type:"ğŸ’–"},
 {from:"ë°©í›ˆí…Œ",to:"ì„ìœ ë¦¬",type:"ğŸ’–"},
 {from:"ë°•ê²½ë‹´",to:"ì¡°ì—°ì•„",type:"â¡ï¸"},
 {from:"ì¡°í•˜ì˜",to:"ìœ ??",type:"â¡ï¸"},
 {from:"ê¹€ë„ì›",to:"ì‹¬ì±„ì›",type:"â¡ï¸"},
 {from:"ì´ì§€ìš°",to:"ì•ˆì§„ìš°",type:"ğŸ’"},
 {from:"ì´ë¯¿ìŒ",to:"ì‹ ì•„ë¦°",type:"â¡ï¸"},
 {from:"ìœ ë™ìš°",to:"ì¡°í•˜ì˜",type:"â¡ï¸"},
 {from:"ê¹€ë¯¼ì„œ",to:"ì´ì˜ˆë‚˜",type:"â¡ï¸"}
];

function search() {
 const name = searchInput.value.trim();
 if(name.length < 1) return;

 let html = "";
 const ë°›ì€ = relations.filter(r=>r.to===name);
 const í•œ = relations.filter(r=>r.from===name);

 if(ë°›ì€.length){
  html += "<b>â¤ï¸ ë°›ì€ ê´€ê³„</b><br>";
  ë°›ì€.forEach(r=>html+=`${r.from} ${r.type}<br>`);
 }
 if(í•œ.length){
  html += "<br><b>ğŸ’Œ ë‚´ê°€ í•œ</b><br>";
  í•œ.forEach(r=>html+=`${r.to} ${r.type}<br>`);
 }
 document.getElementById("result").innerHTML = html || "ê²°ê³¼ ì—†ìŒ";
}

function rank() {
 const score = {};
 relations.forEach(r=>{
  if(r.type==="â¡ï¸"){
    score[r.to]=(score[r.to]||0)+1;
  } else {
    score[r.from]=(score[r.from]||0)+1;
    score[r.to]=(score[r.to]||0)+1;
  }
 });
 document.getElementById("rank").innerHTML =
  Object.entries(score)
   .sort((a,b)=>b[1]-a[1])
   .slice(0,10)
   .map(e=>`<li>${e[0]} (${e[1]})</li>`).join("");
}

function openAdmin(){
 document.getElementById("adminModal").style.display="flex";
}

function adminLogin(){
 const id=document.getElementById("adminId").value;
 const pw=document.getElementById("adminPw").value;
 if(id===ADMIN_ID && pw===ADMIN_PW){
  document.getElementById("adminModal").style.display="none";
  document.getElementById("editModal").style.display="flex";
 } else alert("ë¡œê·¸ì¸ ì‹¤íŒ¨");
}

function addRelation(){
 relations.push({
  from:from.value,
  to:to.value,
  type:type.value
 });
 document.getElementById("editModal").style.display="none";
 rank();
 alert("ì¶”ê°€ ì™„ë£Œ");
}

const searchInput=document.getElementById("search");
searchInput.addEventListener("keydown",e=>{if(e.key==="Enter")search();});

rank();
</script>

</body>
</html>
